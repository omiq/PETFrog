program MyProgram;
var  
   char: byte; 
test_string:string=(147,17,43);
eighty:cstring=("80 columns");
forty:cstring=("40 columns");
test_location: pointer;


function rom_version() as pointer;
var
	rom_4:cstring=("Rom 4");
	
begin

	if(peek(#$91,0) & $F0 = $E0) then begin returnvalue(rom_4); end;

end;



begin

	DefineScreen();	
	screen_char_loc:=$8000;
	screenmemory:=$8000;
	

	for char:=0 to 3 do
	begin
		_A:=test_string[char];
	    call(#$FFD2);
	end;

    if(screen_char_loc[80]=43) then
    begin
    		printstring(eighty,0,10);
    end
    else
    begin
    		printstring(forty,0,10);
	end;

moveto(10,10,hi(#$8000));
if(peek(#$91,0) & $F0 = $E0) then begin printstring(rom_version()); end;

end.
